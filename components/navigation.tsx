"use client"

import { useState } from "react"
import Link from "next/link"
import { Button } from "@/components/ui/button"
import { Menu, X } from "lucide-react"
import useScrollPosition from "@/lib/scroll"

export function Navigation({ autohide }: { autohide?: boolean }) {
  const [isOpen, setIsOpen] = useState(false)

  const companies = [
    { name: "Investment", href: "/companies/investment" },
    { name: "Development", href: "/companies/development" },
    { name: "Media", href: "/companies/media" },
    { name: "Fintech", href: "/companies/fintech" },
    { name: "Project Management", href: "/companies/project-management" },
    { name: "Trading", href: "/companies/trading" },
    { name: "Pharmaceutical & Medical", href: "/companies/pharmaceutical-medical" },
    { name: "Cosmetics & Beauty", href: "/companies/cosmetics-beauty" },
    { name: "Tourism & Holiday", href: "/companies/tourism-holiday" },
    { name: "VIP Club", href: "/companies/vip-club" },
    { name: "Sport", href: "/companies/sport" },
    { name: "Properties & Real Estate", href: "/companies/properties-real-estate" },
  ]

  const y = useScrollPosition()

  return (
    <header className="fixed w-full z-50 group/header h-16">
      <nav className="w-full bg-background/35 hover:bg-background hover:shadow backdrop-blur-sm border-b border-primary/20 glass transition-all duration-500 group-hover/header:top-0! pointer-coarse:top-0! pointer-coarse:bg-background! relative" style={{ top: y > 10 ? 0 : autohide ? -80 : 0}}>
        <div className="max-w-7xl mx-auto sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16 max-sm:px-4">
            <Link href="/" className="font-serif text-2xl lg:text-4xl font-bold text-primary">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="360 120 760 220" className="w-30 md:w-40">
                <path d="M442.37,153.25c3.94,7.58,3.94,18.94-1.67,26.96-6.97,9.69-15.91,11.81-22.72,12.57-.61.15-.61.76,0,.91,9.85,1.67,12.88,9.39,16.66,16.66l6.36,11.81c7.88,14.69,6.06,13.33,12.72,14.39,1.67.3,1.36,3.03,0,3.03-5.15-.15-7.73-.3-10.15-.15-9.24.3-8.48,1.21-12.72-6.67l-13.03-24.24c-7.73-14.39-7.27-15.6-12.12-15.6-2.88,0-4.24-.15-5.15.61-1.21,1.21-1.06,3.03-1.06,13.03v16.21c0,13.63.45,13.03,9.85,13.78,2.12.15,1.36,3.03,0,3.03-12.88-.3-29.69-.15-35.14,0-1.97,0-1.67-2.88,0-3.03,7.27-.76,9.54-.15,9.54-11.36v-71.95c0-11.36-2.27-10.75-9.54-11.36-1.67-.15-1.82-3.18,0-3.03,12.57.76,35.75,0,35.75,0,14.39,0,25.6.91,32.42,14.39ZM399.5,174.61c0,9.24-.3,11.97,1.97,13.48,1.97,1.21,13.03.61,16.81-1.21,6.67-3.03,9.24-10.3,9.85-15.6.76-6.97-.15-17.27-7.72-23.33-4.39-3.64-12.72-4.54-16.36-3.18-5.15,1.82-4.54,4.7-4.54,14.39v15.45ZM498.72,236.56c2.12.3,2.12,3.03.45,3.03-14.24-.61-26.66-.61-36.36,0-1.82.15-2.12-2.73,0-3.03,10.45-1.06,10.6.15,10.6-15.3v-64.23c0-15.3-.76-14.09-10.6-15.15-2.12-.3-1.82-3.18,0-3.03,9.69.45,22.12.45,36.36,0,1.67,0,1.51,2.73-.45,3.03-8.33,1.06-9.39-.61-9.39,13.94v66.65c0,14.69.61,12.88,9.39,14.09ZM593.39,135.83c1.06.61.45,1.51.45,3.18l-1.36,23.48s-.15,1.82-1.36,2.12c-1.97.3-2.42-1.06-2.42-1.06-1.21-9.54-.45-9.54-13.48-16.21-8.94-4.39-23.03-7.88-33.17-1.67-12.42,7.57-16.66,26.51-16.81,35.45-.3,12.57,4.54,39.08,22.72,51.05,8.18,5.45,15.75,5.91,23.78,1.67,13.33-7.12,17.72-10.3,21.06-22.27,0,0,.3-.76,1.51-.76s1.51.76,1.51.76c.3.61.15,2.73.15,3.33v7.27c0,16.66,2.12,13.48-14.54,16.66l-6.97,1.36c-19.24,3.63-41.51,1.97-56.65-20.45-11.06-17.12-12.88-45.29-2.42-62.71,13.94-23.03,32.72-22.42,54.23-19.85,4.39.46,9.39,1.06,17.27,1.82,2.12.3,2.58-.15,5.15-3.18,0,0,.76-.15,1.36,0ZM645.19,184.6h25.45c13.63,0,13.94-.61,13.94-8.33v-19.24c0-15.3-.76-14.09-10.6-15.15-2.12,0-1.82-3.03,0-3.03,9.69.45,22.12.45,36.36,0,1.67,0,1.51,3.03-.45,3.03-8.33,1.06-9.54-.61-9.54,13.94v66.65c0,14.69.76,12.88,9.54,14.09,2.12,0,2.12,3.03.45,3.03-14.24-.61-26.66-.61-36.36,0-1.82,0-2.12-3.03,0-3.03,10.45-1.06,10.6.15,10.6-15.3v-23.03c-.3-7.42-.91-7.42-13.03-7.42h-26.51c-13.03,0-12.88,1.06-13.03,7.58v24.08c0,14.69.61,12.88,9.39,14.09,2.12,0,2.12,3.03.46,3.03-14.24-.61-26.66-.61-36.36,0-1.82,0-2.12-3.03,0-3.03,10.45-1.06,10.6.15,10.6-15.3v-64.23c0-15.3-.61-14.09-10.6-15.15-2.12,0-1.82-3.03,0-3.03,9.69.45,22.12.45,36.36,0,1.67,0,1.51,3.03-.46,3.03-8.33,1.06-9.39-.61-9.39,13.94v20.6c-.15,7.57.15,8.18,13.18,8.18ZM841.05,236.56c2.12.3,2.12,3.03.46,3.03-14.24-.61-26.66-.61-36.36,0-1.82.15-2.12-2.73,0-3.03,10.45-1.06,10.6.15,10.6-15.3v-57.41c0-3.03.15-3.94-.46-4.09-.76-.3-1.36,1.36-2.42,3.64l-31.96,72.56c-.76,2.42-1.06,3.33-2.58,4.09-1.36.61-3.94,1.36-4.24,0-.76-2.27-.76-4.24-3.64-11.66l-30.15-71.95c-.45-1.06-1.67-.91-1.67.61v59.38c0,4.24.45,7.57.76,10.15.76,8.94,1.36,8.48,10.6,10,1.67.3,1.36,3.03,0,3.03-12.12-.45-20.9-.45-29.08,0-1.21,0-1.82-2.73,0-3.03,9.39-1.51,9.54-1.21,10.76-9.54.15-2.27.61-5.15.61-9.09v-61.96c0-13.78.61-12.57-10.91-14.09-.91-.15-1.06-3.18.91-3.03,6.36.15,9.85,0,16.06,0,12.72-.3,11.82-1.21,16.36,10.3l24.99,60.44c.76,2.12,1.21,3.63,2.42,3.63s2.12-1.97,3.03-4.09l27.27-60.59c4.85-10.91,3.94-10,16.06-9.69h13.48c1.36,0,1.51,2.88-.3,3.03-10.3.91-10,1.06-10,15.15v65.44c0,14.69.61,12.88,9.39,14.09ZM888.16,236.56c2.12.3,2.12,3.03.46,3.03-14.24-.61-26.66-.61-36.36,0-1.82.15-2.12-2.73,0-3.03,10.45-1.06,10.6.15,10.6-15.3v-64.23c0-15.3-.76-14.09-10.6-15.15-2.12-.3-1.82-3.18,0-3.03,9.69.45,22.12.45,36.36,0,1.67,0,1.51,2.73-.46,3.03-8.33,1.06-9.39-.61-9.39,13.94v66.65c0,14.69.61,12.88,9.39,14.09ZM984.65,151.88c-.76-8.94-4.09-8.48-13.48-10-1.67-.3-1.21-3.03,0-3.03,12.27.3,23.78.3,31.96,0,1.21,0,1.82,2.73,0,3.03-9.39,1.51-9.54,1.21-10.76,9.39-.3,2.42-.61,5.3-.61,9.09v68.32c0,2.27.15,10.6-1.21,11.81-1.06.91-1.82,1.36-2.73,1.21-.91-.3-6.36-8.03-8.64-10.45l-59.38-69.08c-1.97-2.12-2.12-2.12-2.73-1.82-1.06.45-.76,2.42-.76,4.24v51.81c0,4.24.3,7.57.61,10.15.91,8.94,4.09,8.48,13.48,10,1.67.3,1.21,3.03,0,3.03-12.27-.45-23.63-.45-31.96,0-1.21,0-1.82-2.73,0-3.03,9.39-1.51,9.69-1.21,10.76-9.54.3-2.27.76-5.15.76-9.09v-57.87c0-9.39.3-9.09-2.58-12.27-5.45-6.51-4.7-5.3-8.79-5.91-1.82-.3-1.36-3.03,0-3.03h11.06c8.18,0,8.48-2.73,18.18,8.94l52.26,60.74c1.82,2.27,2.88,3.03,3.94,3.03,1.06-.15,1.36-1.21,1.36-2.58v-47.11c0-4.24-.45-7.58-.76-10ZM1050.54,138.86c23.03,0,38.78.3,50.75,22.42,8.79,15.91,8.94,42.72-.76,57.87-11.82,18.63-22.27,20.6-46.96,20.45,0,0-28.63-.3-41.2,0-1.51,0-1.51-2.88,0-3.03,10.6-.76,10.3-.3,10.3-14.09v-66.35c0-13.94.61-13.48-8.94-14.24-1.36-.15-1.36-3.18.61-3.03,10.76.45,36.2,0,36.2,0ZM1038.12,160.52v56.96c0,8.94-.61,13.33,2.58,15.3,4.7,3.03,21.21,2.42,27.42.15,13.03-4.7,17.57-15,20.45-26.51,3.79-15,4.7-36.36-9.09-51.96-8.79-9.85-22.57-11.21-30.9-10.15-3.33.46-5.45.76-6.67,1.52-4.39,2.73-3.79,7.12-3.79,14.69ZM582.74,296.59h13.73c7.36,0,7.52-.33,7.52-4.5v-10.38c0-8.26-.41-7.6-5.72-8.18-1.15,0-.98-1.64,0-1.64,5.23.25,11.94.25,19.62,0,.9,0,.82,1.64-.25,1.64-4.5.57-5.15-.33-5.15,7.52v35.97c0,7.93.41,6.95,5.15,7.6,1.15,0,1.15,1.64.25,1.64-7.69-.33-14.39-.33-19.62,0-.98,0-1.15-1.64,0-1.64,5.64-.57,5.72.08,5.72-8.26v-12.43c-.16-4.01-.49-4.01-7.03-4.01h-14.31c-7.03,0-6.95.57-7.03,4.09v13c0,7.93.33,6.95,5.07,7.6,1.14,0,1.14,1.64.25,1.64-7.69-.33-14.39-.33-19.62,0-.98,0-1.15-1.64,0-1.64,5.64-.57,5.72.08,5.72-8.26v-34.67c0-8.26-.33-7.6-5.72-8.18-1.15,0-.98-1.64,0-1.64,5.23.25,11.94.25,19.62,0,.9,0,.82,1.64-.25,1.64-4.5.57-5.07-.33-5.07,7.52v11.12c-.08,4.09.08,4.41,7.11,4.41ZM668.75,278.93c7.28,8.99,7.36,21.01,4.09,30.74-2.7,8.59-7.93,14.39-16.52,16.76-6.38,1.8-16.02,1.55-23.47-4.99-8.58-7.68-9.97-20.93-8.99-27.72,1.47-9.4,4.41-16.76,14.8-21.42,2.86-1.23,4.41-1.55,7.44-1.88,6.79-.74,16.11.41,22.65,8.5ZM633.43,307.88c.98,5.56,3.6,12.26,9.97,15.29,3.6,1.72,8.58,1.23,12.18-.65,7.36-4.01,9.08-14.72,9.81-19.95.65-5.23-.16-20.19-6.3-25.92-3.92-3.76-10.06-3.84-12.67-3.35-2.45.41-5.15,1.64-7.28,3.93-5.64,6.13-7.19,23.05-5.72,30.66ZM703.16,271.9c.65,0,.65,1.55-.16,1.64-9.16,1.06-8.99.25-8.99,8.01v34.01c0,5.48.41,6.21,1.8,7.19,1.15.82,10.3,0,12.43-.49,3.11-.82,5.4-1.39,6.95-5.4.08-.57.57-1.55.82-2.37.08-.25.41-.41.9-.41.74,0,.74.82.74.82l-.74,4.99c-1.23,7.77.25,6.62-7.11,6.38-6.95-.25-17.99-.33-29.43,0-.65,0-.9-1.47,0-1.64,5.31-.9,5.15-.33,5.15-8.5v-35.32c0-7.36.49-6.38-5.15-7.28-.9-.16-.65-1.64,0-1.64,8.1.16,14.55,0,22.81,0ZM742.81,271.9c12.43,0,20.93.16,27.39,12.1,4.74,8.58,4.82,23.05-.41,31.23-6.38,10.06-12.02,11.12-25.35,11.04,0,0-15.45-.16-22.24,0-.82,0-.82-1.55,0-1.64,5.72-.41,5.56-.16,5.56-7.6v-35.81c0-7.52.33-7.28-4.82-7.68-.74-.08-.74-1.72.33-1.64,5.81.25,19.54,0,19.54,0ZM736.11,283.59v30.74c0,4.82-.33,7.19,1.39,8.26,2.54,1.64,11.45,1.31,14.8.08,7.03-2.54,9.48-8.09,11.04-14.31,2.04-8.09,2.53-19.62-4.91-28.04-4.74-5.31-12.18-6.05-16.68-5.48-1.8.25-2.94.41-3.6.82-2.37,1.47-2.04,3.84-2.04,7.93ZM798.24,324.64c1.15.16,1.15,1.64.25,1.64-7.69-.33-14.39-.33-19.62,0-.98.08-1.15-1.47,0-1.64,5.64-.57,5.72.08,5.72-8.26v-34.67c0-8.26-.41-7.6-5.72-8.18-1.15-.16-.98-1.72,0-1.64,5.23.25,11.94.25,19.62,0,.9,0,.82,1.47-.25,1.64-4.5.57-5.07-.33-5.07,7.52v35.97c0,7.93.33,6.95,5.07,7.6ZM850.31,278.93c-.41-4.82-2.21-4.58-7.28-5.4-.9-.16-.65-1.64,0-1.64,6.62.16,12.84.16,17.25,0,.65,0,.98,1.47,0,1.64-5.07.82-5.15.65-5.8,5.07-.16,1.31-.33,2.86-.33,4.91v36.87c0,1.23.08,5.72-.65,6.38-.57.49-.98.74-1.47.65-.49-.16-3.43-4.33-4.66-5.64l-32.05-37.28c-1.06-1.15-1.14-1.15-1.47-.98-.57.25-.41,1.31-.41,2.29v27.96c0,2.29.16,4.09.33,5.48.49,4.82,2.21,4.58,7.28,5.4.9.16.65,1.64,0,1.64-6.62-.25-12.75-.25-17.25,0-.65,0-.98-1.47,0-1.64,5.07-.82,5.23-.65,5.81-5.15.16-1.23.41-2.78.41-4.91v-31.23c0-5.07.16-4.91-1.39-6.62-2.94-3.51-2.53-2.86-4.74-3.19-.98-.16-.74-1.64,0-1.64h5.97c4.41,0,4.58-1.47,9.81,4.82l28.21,32.79c.98,1.23,1.55,1.64,2.13,1.64.57-.08.74-.65.74-1.39v-25.43c0-2.29-.25-4.09-.41-5.4ZM911.05,271.9c-.41,4.09-.74,8.26-.74,13.9,0,1.39-1.55,1.23-1.64.49-.65-7.03.65-5.48-7.2-9.57-6.05-3.19-13.57-4.91-19.21-1.31-7.52,4.82-9.24,16.52-8.99,22.4.16,6.46,3.6,20.03,13.08,25.1,4.58,2.53,9.89,1.88,14.55-.9,2.04-1.14,2.7-1.96,2.7-4.17v-8.26c0-7.77-.49-7.36-6.05-8.01-1.31-.16-.82-1.63-.25-1.63,7.52.16,12.76.25,18.48,0,1.14-.08.98,1.55.49,1.63-4.99.9-4.5.65-4.5,9.16v8.42c0,2.62-.25,3.03,1.64,3.6.65.25.65,1.23,0,1.39-13.57,3.68-26.57,4.91-35.07-.08-9.16-5.23-12.75-12.75-13.9-21.91-1.23-8.67-.49-17.25,7.85-25.51,7.69-7.6,18.15-6.87,25.02-5.56l8.99,1.55c.57.08,2.21.33,2.37.16.74-.57.98-.74,1.8-1.47.33-.25.57.08.57.57Z"  fill="currentcolor"/>
              </svg>
            </Link>

            {/* Desktop Navigation */}
            <div className="hidden md:flex items-center space-x-8">
              <Link href="/" className="text-foreground hover:text-accent transition-colors">
                Home
              </Link>
              <div className="relative group">
                <button className="text-foreground hover:text-accent transition-colors">Companies</button>
                <div className="absolute top-full left-0 mt-2 w-64 bg-card border border-accent/20 shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                  <div className="p-2">
                    {companies.map((company) => (
                      <Link
                        key={company.href}
                        href={company.href}
                        className="block px-3 py-2 text-sm text-foreground hover:bg-accent/10 hover:text-accent transition-colors"
                      >
                        {company.name}
                      </Link>
                    ))}
                  </div>
                </div>
              </div>
              <Link href="/about" className="text-foreground hover:text-accent transition-colors">
                About Us
              </Link>
              <Link href="/contact" className="text-foreground hover:text-accent transition-colors">
                Contact
              </Link>
            </div>

            {/* Mobile menu button */}
            <div className="md:hidden">
              <Button variant="ghost" size="sm" onClick={() => setIsOpen(!isOpen)} className="text-foreground">
                {isOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
              </Button>
            </div>
          </div>

          {/* Mobile Navigation */}
          {isOpen && (
            <div className="md:hidden">
              <div className="px-2 pt-2 pb-3 space-y-1 bg-card border-t border-accent/20  max-h-[calc(100vh_-_64px)] overflow-y-auto">
                <Link
                  href="/"
                  className="block px-3 py-2 text-foreground hover:text-accent transition-colors"
                  onClick={() => setIsOpen(false)}
                >
                  Home
                </Link>
                <div className="px-3 py-2">
                  <div className="text-sm font-medium text-muted-foreground mb-2">Companies</div>
                  <div className="space-y-1 pl-4">
                    {companies.map((company) => (
                      <Link
                        key={company.href}
                        href={company.href}
                        className="block py-1 text-sm text-foreground hover:text-accent transition-colors"
                        onClick={() => setIsOpen(false)}
                      >
                        {company.name}
                      </Link>
                    ))}
                  </div>
                </div>
                <Link
                  href="/about"
                  className="block px-3 py-2 text-foreground hover:text-accent transition-colors"
                  onClick={() => setIsOpen(false)}
                >
                  About Us
                </Link>
                <Link
                  href="/contact"
                  className="block px-3 py-2 text-foreground hover:text-accent transition-colors"
                  onClick={() => setIsOpen(false)}
                >
                  Contact
                </Link>
              </div>
            </div>
          )}
        </div>
      </nav>
    </header>
  )
}
